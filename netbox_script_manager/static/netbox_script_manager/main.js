var _l=Object.defineProperty;var hl=(B,F,V)=>F in B?_l(B,F,{enumerable:!0,configurable:!0,writable:!0,value:V}):B[F]=V;var D=(B,F,V)=>(hl(B,typeof F!="symbol"?F+"":F,V),V);(function(){"use strict";var B=document.createElement("style");B.textContent=`.min-width-70{min-width:70px}.min-width-120{min-width:120px}table.svelte-dsaf7t.svelte-dsaf7t{width:100%}.isSortable.svelte-dsaf7t.svelte-dsaf7t,.isClickable.svelte-dsaf7t.svelte-dsaf7t{cursor:pointer}tr.svelte-dsaf7t th select.svelte-dsaf7t{width:100%}
`,document.head.appendChild(B);const F="";function V(){}function Ne(e,n){for(const l in n)e[l]=n[l];return e}function Ee(e){return e()}function Ce(){return Object.create(null)}function M(e){e.forEach(Ee)}function Se(e){return typeof e=="function"}function Te(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}function pn(e){return Object.keys(e).length===0}function oe(e,n,l,t){if(e){const s=Oe(e,n,l,t);return e[0](s)}}function Oe(e,n,l,t){return e[1]&&t?Ne(l.ctx.slice(),e[1](t(n))):l.ctx}function re(e,n,l,t){if(e[2]&&t){const s=e[2](t(l));if(n.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(n.dirty.length,s.length);for(let a=0;a<i;a+=1)o[a]=n.dirty[a]|s[a];return o}return n.dirty|s}return n.dirty}function fe(e,n,l,t,s,o){if(s){const i=Oe(n,l,t,o);e.p(i,s)}}function ae(e){if(e.ctx.length>32){const n=[],l=e.ctx.length/32;for(let t=0;t<l;t++)n[t]=-1;return n}return-1}function E(e){return e??""}function R(e,n){e.appendChild(n)}function C(e,n,l){e.insertBefore(n,l||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function X(e,n){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(n)}function S(e){return document.createElement(e)}function wn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function z(e){return document.createTextNode(e)}function j(){return z(" ")}function $(){return z("")}function I(e,n,l,t){return e.addEventListener(n,l,t),()=>e.removeEventListener(n,l,t)}function v(e,n,l){l==null?e.removeAttribute(n):e.getAttribute(n)!==l&&e.setAttribute(n,l)}function yn(e){return Array.from(e.childNodes)}function ee(e,n){n=""+n,e.data!==n&&(e.data=n)}function J(e,n){e.value=n??""}function Re(e,n,l){for(let t=0;t<e.options.length;t+=1){const s=e.options[t];if(s.__value===n){s.selected=!0;return}}(!l||n!==void 0)&&(e.selectedIndex=-1)}function vn(e){const n=e.querySelector(":checked");return n&&n.__value}function Nn(e,n,{bubbles:l=!1,cancelable:t=!1}={}){return new CustomEvent(e,{detail:n,bubbles:l,cancelable:t})}class ue{constructor(n=!1){D(this,"is_svg",!1);D(this,"e");D(this,"n");D(this,"t");D(this,"a");this.is_svg=n,this.e=this.n=null}c(n){this.h(n)}m(n,l,t=null){this.e||(this.is_svg?this.e=wn(l.nodeName):this.e=S(l.nodeType===11?"TEMPLATE":l.nodeName),this.t=l.tagName!=="TEMPLATE"?l:l.content,this.c(n)),this.i(t)}h(n){this.e.innerHTML=n,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(n){for(let l=0;l<this.n.length;l+=1)C(this.t,this.n[l],n)}p(n){this.d(),this.h(n),this.i(this.a)}d(){this.n.forEach(N)}}function Le(e,n){return new e(n)}let Q;function Y(e){Q=e}function Ae(){if(!Q)throw new Error("Function called outside component initialization");return Q}function En(e){Ae().$$.on_mount.push(e)}function Cn(){const e=Ae();return(n,l,{cancelable:t=!1}={})=>{const s=e.$$.callbacks[n];if(s){const o=Nn(n,l,{cancelable:t});return s.slice().forEach(i=>{i.call(e,o)}),!o.defaultPrevented}return!0}}const q=[],ce=[];let G=[];const de=[],Sn=Promise.resolve();let _e=!1;function Tn(){_e||(_e=!0,Sn.then(Ve))}function ne(e){G.push(e)}function On(e){de.push(e)}const he=new Set;let W=0;function Ve(){if(W!==0)return;const e=Q;do{try{for(;W<q.length;){const n=q[W];W++,Y(n),Rn(n.$$)}}catch(n){throw q.length=0,W=0,n}for(Y(null),q.length=0,W=0;ce.length;)ce.pop()();for(let n=0;n<G.length;n+=1){const l=G[n];he.has(l)||(he.add(l),l())}G.length=0}while(q.length);for(;de.length;)de.pop()();_e=!1,he.clear(),Y(e)}function Rn(e){if(e.fragment!==null){e.update(),M(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(ne)}}function Ln(e){const n=[],l=[];G.forEach(t=>e.indexOf(t)===-1?n.push(t):l.push(t)),l.forEach(t=>t()),G=n}const le=new Set;let U;function Z(){U={r:0,c:[],p:U}}function x(){U.r||M(U.c),U=U.p}function T(e,n){e&&e.i&&(le.delete(e),e.i(n))}function L(e,n,l,t){if(e&&e.o){if(le.has(e))return;le.add(e),U.c.push(()=>{le.delete(e),t&&(l&&e.d(1),t())}),e.o(n)}else t&&t()}function P(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ie(e,n){const l={},t={},s={$$scope:1};let o=e.length;for(;o--;){const i=e[o],a=n[o];if(a){for(const f in i)f in a||(t[f]=1);for(const f in a)s[f]||(l[f]=a[f],s[f]=1);e[o]=a}else for(const f in i)s[f]=1}for(const i in t)i in l||(l[i]=void 0);return l}function Pe(e){return typeof e=="object"&&e!==null?e:{}}function An(e,n,l){const t=e.$$.props[n];t!==void 0&&(e.$$.bound[t]=l,l(e.$$.ctx[t]))}function me(e){e&&e.c()}function te(e,n,l){const{fragment:t,after_update:s}=e.$$;t&&t.m(n,l),ne(()=>{const o=e.$$.on_mount.map(Ee).filter(Se);e.$$.on_destroy?e.$$.on_destroy.push(...o):M(o),e.$$.on_mount=[]}),s.forEach(ne)}function se(e,n){const l=e.$$;l.fragment!==null&&(Ln(l.after_update),M(l.on_destroy),l.fragment&&l.fragment.d(n),l.on_destroy=l.fragment=null,l.ctx=[])}function Vn(e,n){e.$$.dirty[0]===-1&&(q.push(e),Tn(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function Me(e,n,l,t,s,o,i,a=[-1]){const f=Q;Y(e);const u=e.$$={fragment:null,ctx:[],props:o,update:V,not_equal:s,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:Ce(),dirty:a,skip_bound:!1,root:n.target||f.$$.root};i&&i(u.root);let g=!1;if(u.ctx=l?l(e,n.props||{},(h,y,...c)=>{const p=c.length?c[0]:y;return u.ctx&&s(u.ctx[h],u.ctx[h]=p)&&(!u.skip_bound&&u.bound[h]&&u.bound[h](p),g&&Vn(e,h)),y}):[],u.update(),g=!0,M(u.before_update),u.fragment=t?t(u.ctx):!1,n.target){if(n.hydrate){const h=yn(n.target);u.fragment&&u.fragment.l(h),h.forEach(N)}else u.fragment&&u.fragment.c();n.intro&&T(e.$$.fragment),te(e,n.target,n.anchor),Ve()}Y(f)}class Be{constructor(){D(this,"$$");D(this,"$$set")}$destroy(){se(this,1),this.$destroy=V}$on(n,l){if(!Se(l))return V;const t=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return t.push(l),()=>{const s=t.indexOf(l);s!==-1&&t.splice(s,1)}}$set(n){this.$$set&&!pn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const In="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(In);const ml="";function Fe(e,n,l){const t=e.slice();return t[56]=n[l],t[58]=l,t}const Pn=e=>({row:e[0]&8}),je=e=>({row:e[56],n:e[58]});function He(e,n,l){const t=e.slice();return t[59]=n[l],t[61]=l,t}const Mn=e=>({row:e[0]&8}),Ke=e=>({row:e[56],n:e[58]});function De(e,n,l){const t=e.slice();return t[59]=n[l],t}const Bn=e=>({sortOrder:e[0]&2,sortBy:e[0]&1}),Ue=e=>({sortOrder:e[1],sortBy:e[0]});function ze(e,n,l){const t=e.slice();return t[59]=n[l],t[64]=n,t[65]=l,t}function qe(e,n,l){const t=e.slice();return t[66]=n[l],t}function Fn(e){let n,l,t=P(e[4]),s=[];for(let i=0;i<t.length;i+=1)s[i]=We(ze(e,t,i));let o=e[11]&&Xe();return{c(){n=S("tr");for(let i=0;i<s.length;i+=1)s[i].c();l=j(),o&&o.c(),v(n,"class","svelte-dsaf7t")},m(i,a){C(i,n,a);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);R(n,l),o&&o.m(n,null)},p(i,a){if(a[0]&75595796){t=P(i[4]);let f;for(f=0;f<t.length;f+=1){const u=ze(i,t,f);s[f]?s[f].p(u,a):(s[f]=We(u),s[f].c(),s[f].m(n,l))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}i[11]?o||(o=Xe(),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},d(i){i&&N(n),X(s,i),o&&o.d()}}}function jn(e){let n,l,t=(e[59].filterPlaceholder||"")+"",s,o,i,a,f=P(e[23][e[59].key]),u=[];for(let h=0;h<f.length;h+=1)u[h]=Ge(qe(e,f,h));function g(){e[44].call(n,e[59])}return{c(){n=S("select"),l=S("option"),s=z(t);for(let h=0;h<u.length;h+=1)u[h].c();l.__value=void 0,J(l,l.__value),v(n,"class",o=E(e[26](e[15]))+" svelte-dsaf7t"),e[2][e[59].key]===void 0&&ne(g)},m(h,y){C(h,n,y),R(n,l),R(l,s);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(n,null);Re(n,e[2][e[59].key],!0),i||(a=I(n,"change",g),i=!0)},p(h,y){if(e=h,y[0]&16&&t!==(t=(e[59].filterPlaceholder||"")+"")&&ee(s,t),y[0]&8388624){f=P(e[23][e[59].key]);let c;for(c=0;c<f.length;c+=1){const p=qe(e,f,c);u[c]?u[c].p(p,y):(u[c]=Ge(p),u[c].c(),u[c].m(n,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=f.length}y[0]&32768&&o!==(o=E(e[26](e[15]))+" svelte-dsaf7t")&&v(n,"class",o),y[0]&8388628&&Re(n,e[2][e[59].key])},d(h){h&&N(n),X(u,h),i=!1,a()}}}function Hn(e){let n,l,t,s,o;function i(){e[43].call(n,e[59])}return{c(){n=S("input"),v(n,"class",l=E(e[26](e[16]))+" svelte-dsaf7t"),v(n,"placeholder",t=e[59].filterPlaceholder)},m(a,f){C(a,n,f),J(n,e[2][e[59].key]),s||(o=I(n,"input",i),s=!0)},p(a,f){e=a,f[0]&65536&&l!==(l=E(e[26](e[16]))+" svelte-dsaf7t")&&v(n,"class",l),f[0]&8388624&&t!==(t=e[59].filterPlaceholder)&&v(n,"placeholder",t),f[0]&8388628&&n.value!==e[2][e[59].key]&&J(n,e[2][e[59].key])},d(a){a&&N(n),s=!1,o()}}}function Ge(e){let n,l=e[66].name+"",t,s;return{c(){n=S("option"),t=z(l),n.__value=s=e[66].value,J(n,n.__value)},m(o,i){C(o,n,i),R(n,t)},p(o,i){i[0]&8388624&&l!==(l=o[66].name+"")&&ee(t,l),i[0]&8388624&&s!==(s=o[66].value)&&(n.__value=s,J(n,n.__value))},d(o){o&&N(n)}}}function We(e){let n,l;function t(i,a){if(!i[59].hideFilterHeader&&i[59].searchValue!==void 0)return Hn;if(!i[59].hideFilterHeader&&i[23][i[59].key]!==void 0)return jn}let s=t(e),o=s&&s(e);return{c(){n=S("th"),o&&o.c(),v(n,"class",l=E(e[26]([e[59].headerFilterClass]))+" svelte-dsaf7t")},m(i,a){C(i,n,a),o&&o.m(n,null)},p(i,a){s===(s=t(i))&&o?o.p(i,a):(o&&o.d(1),o=s&&s(i),o&&(o.c(),o.m(n,null))),a[0]&8388624&&l!==(l=E(i[26]([i[59].headerFilterClass]))+" svelte-dsaf7t")&&v(n,"class",l)},d(i){i&&N(n),o&&o.d()}}}function Xe(e){let n;return{c(){n=S("th")},m(l,t){C(l,n,t)},d(l){l&&N(n)}}}function Kn(e){let n,l;return{c(){n=new ue(!1),l=$(),n.a=l},m(t,s){n.m(e[8],t,s),C(t,l,s)},p(t,s){s[0]&256&&n.p(t[8])},d(t){t&&(N(l),n.d())}}}function Dn(e){let n,l=(e[1]===1?e[6]:e[7])+"",t;return{c(){n=new ue(!1),t=$(),n.a=t},m(s,o){n.m(l,s,o),C(s,t,o)},p(s,o){o[0]&194&&l!==(l=(s[1]===1?s[6]:s[7])+"")&&n.p(l)},d(s){s&&(N(t),n.d())}}}function Je(e){let n,l=e[59].title+"",t,s,o,i,a;function f(c,p){if(c[0]===c[59].key)return Dn;if(c[59].sortable)return Kn}let u=f(e),g=u&&u(e);function h(...c){return e[45](e[59],...c)}function y(...c){return e[46](e[59],...c)}return{c(){n=S("th"),t=z(l),s=j(),g&&g.c(),v(n,"class",o=E(e[26]([e[59].sortable?"isSortable":"",e[59].headerClass]))+" svelte-dsaf7t"),v(n,"tabindex","0")},m(c,p){C(c,n,p),R(n,t),R(n,s),g&&g.m(n,null),i||(a=[I(n,"click",h),I(n,"keypress",y)],i=!0)},p(c,p){e=c,p[0]&16&&l!==(l=e[59].title+"")&&ee(t,l),u===(u=f(e))&&g?g.p(e,p):(g&&g.d(1),g=u&&u(e),g&&(g.c(),g.m(n,null))),p[0]&8388624&&o!==(o=E(e[26]([e[59].sortable?"isSortable":"",e[59].headerClass]))+" svelte-dsaf7t")&&v(n,"class",o)},d(c){c&&N(n),g&&g.d(),i=!1,M(a)}}}function Qe(e){let n;return{c(){n=S("th")},m(l,t){C(l,n,t)},d(l){l&&N(n)}}}function Un(e){let n,l,t=P(e[4]),s=[];for(let i=0;i<t.length;i+=1)s[i]=Je(De(e,t,i));let o=e[11]&&Qe();return{c(){n=S("tr");for(let i=0;i<s.length;i+=1)s[i].c();l=j(),o&&o.c()},m(i,a){C(i,n,a);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(n,null);R(n,l),o&&o.m(n,null)},p(i,a){if(a[0]&201327059){t=P(i[4]);let f;for(f=0;f<t.length;f+=1){const u=De(i,t,f);s[f]?s[f].p(u,a):(s[f]=Je(u),s[f].c(),s[f].m(n,l))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}i[11]?o||(o=Qe(),o.c(),o.m(n,null)):o&&(o.d(1),o=null)},d(i){i&&N(n),X(s,i),o&&o.d()}}}function zn(e){let n=(e[59].renderValue?e[59].renderValue(e[56],e[58],e[61]):e[59].value(e[56],e[58],e[61]))+"",l;return{c(){l=z(n)},m(t,s){C(t,l,s)},p(t,s){s[0]&24&&n!==(n=(t[59].renderValue?t[59].renderValue(t[56],t[58],t[61]):t[59].value(t[56],t[58],t[61]))+"")&&ee(l,n)},i:V,o:V,d(t){t&&N(l)}}}function qn(e){let n,l=(e[59].renderValue?e[59].renderValue(e[56],e[58],e[61]):e[59].value(e[56],e[58],e[61]))+"",t;return{c(){n=new ue(!1),t=$(),n.a=t},m(s,o){n.m(l,s,o),C(s,t,o)},p(s,o){o[0]&24&&l!==(l=(s[59].renderValue?s[59].renderValue(s[56],s[58],s[61]):s[59].value(s[56],s[58],s[61]))+"")&&n.p(l)},i:V,o:V,d(s){s&&(N(t),n.d())}}}function Gn(e){let n,l,t;const s=[e[59].renderComponent.props||{},{row:e[56]},{col:e[59]}];var o=e[59].renderComponent.component||e[59].renderComponent;function i(a,f){let u={};if(f!==void 0&&f[0]&24)u=Ie(s,[f[0]&16&&Pe(a[59].renderComponent.props||{}),f[0]&8&&{row:a[56]},f[0]&16&&{col:a[59]}]);else for(let g=0;g<s.length;g+=1)u=Ne(u,s[g]);return{props:u}}return o&&(n=Le(o,i(e))),{c(){n&&me(n.$$.fragment),l=$()},m(a,f){n&&te(n,a,f),C(a,l,f),t=!0},p(a,f){if(f[0]&16&&o!==(o=a[59].renderComponent.component||a[59].renderComponent)){if(n){Z();const u=n;L(u.$$.fragment,1,0,()=>{se(u,1)}),x()}o?(n=Le(o,i(a,f)),me(n.$$.fragment),T(n.$$.fragment,1),te(n,l.parentNode,l)):n=null}else if(o){const u=f[0]&24?Ie(s,[f[0]&16&&Pe(a[59].renderComponent.props||{}),f[0]&8&&{row:a[56]},f[0]&16&&{col:a[59]}]):{};n.$set(u)}},i(a){t||(n&&T(n.$$.fragment,a),t=!0)},o(a){n&&L(n.$$.fragment,a),t=!1},d(a){a&&N(l),n&&se(n,a)}}}function Ye(e){let n,l,t,s,o,i,a;const f=[Gn,qn,zn],u=[];function g(c,p){return c[59].renderComponent?0:c[59].parseHTML?1:2}l=g(e),t=u[l]=f[l](e);function h(...c){return e[47](e[56],e[59],...c)}function y(...c){return e[48](e[56],e[59],...c)}return{c(){n=S("td"),t.c(),v(n,"class",s=E(e[26]([typeof e[59].class=="string"?e[59].class:null,typeof e[59].class=="function"?e[59].class(e[56],e[58],e[61]):null,e[18]]))+" svelte-dsaf7t")},m(c,p){C(c,n,p),u[l].m(n,null),o=!0,i||(a=[I(n,"click",h),I(n,"keypress",y)],i=!0)},p(c,p){e=c;let m=l;l=g(e),l===m?u[l].p(e,p):(Z(),L(u[m],1,1,()=>{u[m]=null}),x(),t=u[l],t?t.p(e,p):(t=u[l]=f[l](e),t.c()),T(t,1),t.m(n,null)),(!o||p[0]&8650776&&s!==(s=E(e[26]([typeof e[59].class=="string"?e[59].class:null,typeof e[59].class=="function"?e[59].class(e[56],e[58],e[61]):null,e[18]]))+" svelte-dsaf7t"))&&v(n,"class",s)},i(c){o||(T(t),o=!0)},o(c){L(t),o=!1},d(c){c&&N(n),u[l].d(),i=!1,M(a)}}}function Ze(e){let n,l,t=(e[56].$expanded?e[9]:e[10])+"",s,o,i;function a(...u){return e[49](e[56],...u)}function f(...u){return e[50](e[56],...u)}return{c(){n=S("td"),l=S("span"),v(l,"class","isClickable svelte-dsaf7t"),v(l,"tabindex","0"),v(l,"role","button"),v(n,"class",s=E(e[26](e[22]))+" svelte-dsaf7t")},m(u,g){C(u,n,g),R(n,l),l.innerHTML=t,o||(i=[I(l,"click",a),I(l,"keypress",f)],o=!0)},p(u,g){e=u,g[0]&1544&&t!==(t=(e[56].$expanded?e[9]:e[10])+"")&&(l.innerHTML=t),g[0]&4194304&&s!==(s=E(e[26](e[22]))+" svelte-dsaf7t")&&v(n,"class",s)},d(u){u&&N(n),o=!1,M(i)}}}function xe(e){let n,l,t,s;const o=e[42].expanded,i=oe(o,e,e[41],je);return{c(){n=S("tr"),l=S("td"),i&&i.c(),v(l,"colspan",e[24]),v(n,"class",t=E(e[26](e[21]))+" svelte-dsaf7t")},m(a,f){C(a,n,f),R(n,l),i&&i.m(l,null),s=!0},p(a,f){i&&i.p&&(!s||f[0]&8|f[1]&1024)&&fe(i,o,a,a[41],s?re(o,a[41],f,Pn):ae(a[41]),je),(!s||f[0]&16777216)&&v(l,"colspan",a[24]),(!s||f[0]&2097152&&t!==(t=E(a[26](a[21]))+" svelte-dsaf7t"))&&v(n,"class",t)},i(a){s||(T(i,a),s=!0)},o(a){L(i,a),s=!1},d(a){a&&N(n),i&&i.d(a)}}}function Wn(e){let n,l,t,s,o,i,a,f,u,g=P(e[4]),h=[];for(let d=0;d<g.length;d+=1)h[d]=Ye(He(e,g,d));const y=d=>L(h[d],1,1,()=>{h[d]=null});let c=e[11]&&Ze(e);function p(...d){return e[51](e[56],...d)}function m(...d){return e[52](e[56],...d)}let w=e[56].$expanded&&xe(e);return{c(){n=S("tr");for(let d=0;d<h.length;d+=1)h[d].c();l=j(),c&&c.c(),o=j(),w&&w.c(),i=j(),v(n,"class",t=E(e[26]([typeof e[17]=="string"?e[17]:null,typeof e[17]=="function"?e[17](e[56],e[58]):null,e[56].$expanded&&e[20],e[56].$selected&&e[19]]))+" svelte-dsaf7t"),v(n,"tabindex",s=e[5]?"0":null)},m(d,b){C(d,n,b);for(let k=0;k<h.length;k+=1)h[k]&&h[k].m(n,null);R(n,l),c&&c.m(n,null),C(d,o,b),w&&w.m(d,b),C(d,i,b),a=!0,f||(u=[I(n,"click",p),I(n,"keypress",m)],f=!0)},p(d,b){if(e=d,b[0]&1141112856){g=P(e[4]);let k;for(k=0;k<g.length;k+=1){const H=He(e,g,k);h[k]?(h[k].p(H,b),T(h[k],1)):(h[k]=Ye(H),h[k].c(),T(h[k],1),h[k].m(n,l))}for(Z(),k=g.length;k<h.length;k+=1)y(k);x()}e[11]?c?c.p(e,b):(c=Ze(e),c.c(),c.m(n,null)):c&&(c.d(1),c=null),(!a||b[0]&1703944&&t!==(t=E(e[26]([typeof e[17]=="string"?e[17]:null,typeof e[17]=="function"?e[17](e[56],e[58]):null,e[56].$expanded&&e[20],e[56].$selected&&e[19]]))+" svelte-dsaf7t"))&&v(n,"class",t),(!a||b[0]&32&&s!==(s=e[5]?"0":null))&&v(n,"tabindex",s),e[56].$expanded?w?(w.p(e,b),b[0]&8&&T(w,1)):(w=xe(e),w.c(),T(w,1),w.m(i.parentNode,i)):w&&(Z(),L(w,1,1,()=>{w=null}),x())},i(d){if(!a){for(let b=0;b<g.length;b+=1)T(h[b]);T(w),a=!0}},o(d){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)L(h[b]);L(w),a=!1},d(d){d&&(N(n),N(o),N(i)),X(h,d),c&&c.d(),w&&w.d(d),f=!1,M(u)}}}function $e(e){let n;const l=e[42].row,t=oe(l,e,e[41],Ke),s=t||Wn(e);return{c(){s&&s.c()},m(o,i){s&&s.m(o,i),n=!0},p(o,i){t?t.p&&(!n||i[0]&8|i[1]&1024)&&fe(t,l,o,o[41],n?re(l,o[41],i,Mn):ae(o[41]),Ke):s&&s.p&&(!n||i[0]&25038392|i[1]&1024)&&s.p(o,n?i:[-1,-1,-1])},i(o){n||(T(s,o),n=!0)},o(o){L(s,o),n=!1},d(o){s&&s.d(o)}}}function Xn(e){let n,l,t,s,o,i,a,f,u,g=e[25]&&Fn(e);const h=e[42].header,y=oe(h,e,e[41],Ue),c=y||Un(e);let p=P(e[3]),m=[];for(let d=0;d<p.length;d+=1)m[d]=$e(Fe(e,p,d));const w=d=>L(m[d],1,1,()=>{m[d]=null});return{c(){n=S("table"),l=S("thead"),g&&g.c(),t=j(),c&&c.c(),o=j(),i=S("tbody");for(let d=0;d<m.length;d+=1)m[d].c();v(l,"class",s=E(e[26](e[13]))+" svelte-dsaf7t"),v(i,"class",a=E(e[26](e[14]))+" svelte-dsaf7t"),v(n,"class",f=E(e[26](e[12]))+" svelte-dsaf7t")},m(d,b){C(d,n,b),R(n,l),g&&g.m(l,null),R(l,t),c&&c.m(l,null),R(n,o),R(n,i);for(let k=0;k<m.length;k+=1)m[k]&&m[k].m(i,null);u=!0},p(d,b){if(d[25]&&g.p(d,b),y?y.p&&(!u||b[0]&3|b[1]&1024)&&fe(y,h,d,d[41],u?re(h,d[41],b,Bn):ae(d[41]),Ue):c&&c.p&&(!u||b[0]&2515)&&c.p(d,u?b:[-1,-1,-1]),(!u||b[0]&8192&&s!==(s=E(d[26](d[13]))+" svelte-dsaf7t"))&&v(l,"class",s),b[0]&1971195448|b[1]&1024){p=P(d[3]);let k;for(k=0;k<p.length;k+=1){const H=Fe(d,p,k);m[k]?(m[k].p(H,b),T(m[k],1)):(m[k]=$e(H),m[k].c(),T(m[k],1),m[k].m(i,null))}for(Z(),k=p.length;k<m.length;k+=1)w(k);x()}(!u||b[0]&16384&&a!==(a=E(d[26](d[14]))+" svelte-dsaf7t"))&&v(i,"class",a),(!u||b[0]&4096&&f!==(f=E(d[26](d[12]))+" svelte-dsaf7t"))&&v(n,"class",f)},i(d){if(!u){T(c,d);for(let b=0;b<p.length;b+=1)T(m[b]);u=!0}},o(d){L(c,d),m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)L(m[b]);u=!1},d(d){d&&N(n),g&&g.d(),c&&c.d(d),X(m,d)}}}function Jn(e,n,l){let t,{$$slots:s={},$$scope:o}=n,{columns:i}=n,{rows:a}=n,{c_rows:f=void 0}=n,{sortOrders:u=[1,-1]}=n,{sortBy:g=""}=n,{sortOrder:h=(u==null?void 0:u[0])||1}=n,{filterSelections:y={}}=n,{expanded:c=[]}=n,{selected:p=[]}=n,{expandRowKey:m=null}=n,{rowKey:w=m}=n,{expandSingle:d=!1}=n,{selectSingle:b=!1}=n,{selectOnClick:k=!1}=n,{iconAsc:H="▲"}=n,{iconDesc:nn="▼"}=n,{iconSortable:ln=""}=n,{iconExpand:tn="▼"}=n,{iconExpanded:sn="▲"}=n,{showExpandIcon:ge=!1}=n,{classNameTable:on=""}=n,{classNameThead:rn=""}=n,{classNameTbody:fn=""}=n,{classNameSelect:an=""}=n,{classNameInput:un=""}=n,{classNameRow:cn=null}=n,{classNameCell:dn=""}=n,{classNameRowSelected:be=null}=n,{classNameRowExpanded:_n=null}=n,{classNameExpandedContent:hn=""}=n,{classNameCellExpand:mn=""}=n;const ie=Cn();let ke=()=>"";if(!Array.isArray(c))throw"'expanded' needs to be an array";if(!Array.isArray(p))throw"'selection' needs to be an array";m!==null&&console.warn("'expandRowKey' is deprecated in favour of 'rowKey'"),be&&!w&&console.error("'rowKey' is needed to use 'classNameRowSelected'");let gn=i.some(r=>!r.hideFilterHeader&&(r.filterOptions!==void 0||r.searchValue!==void 0)),K={},A;const el=r=>[].concat(r).filter(_=>_!==null&&typeof _=="string"&&_!=="").join(" "),nl=()=>{l(23,K={}),i.forEach(r=>{typeof r.filterOptions=="function"?l(23,K[r.key]=r.filterOptions(a),K):Array.isArray(r.filterOptions)&&l(23,K[r.key]=r.filterOptions.map(_=>({name:_,value:_})),K)})},ll=r=>r===g?u[(u.findIndex(_=>_===h)+1)%u.length]:u[0],pe=(r,_)=>{_.sortable&&(l(1,h=ll(_.key)),l(0,g=h?_.key:void 0)),ie("clickCol",{event:r,col:_,key:_.key})},we=(r,_)=>{k&&(b?p.includes(_[w])?l(32,p=[]):l(32,p=[_[w]]):p.includes(_[w])?l(32,p=p.filter(O=>O!=_[w])):l(32,p=[...p,_[w]].sort())),ie("clickRow",{event:r,row:_})},ye=(r,_)=>{_.$expanded=!_.$expanded;const O=_[w];d&&_.$expanded?l(31,c=[O]):d?l(31,c=[]):_.$expanded?l(31,c=[...c,O]):l(31,c=c.filter(bn=>bn!=O)),ie("clickExpand",{event:r,row:_})},ve=(r,_,O)=>{ie("clickCell",{event:r,row:_,key:O})};function tl(r){y[r.key]=this.value,l(2,y),l(23,K),l(4,i)}function sl(r){y[r.key]=vn(this),l(2,y),l(23,K),l(4,i)}const il=(r,_)=>pe(_,r),ol=(r,_)=>_.key==="Enter"&&pe(_,r),rl=(r,_,O)=>ve(O,r,_.key),fl=(r,_,O)=>O.key==="Enter"&&ve(O,r,_.key),al=(r,_)=>ye(_,r),ul=(r,_)=>_.key==="Enter"&&ye(_,r),cl=(r,_)=>we(_,r),dl=(r,_)=>_.key==="Enter"&&we(_,r);return e.$$set=r=>{"columns"in r&&l(4,i=r.columns),"rows"in r&&l(33,a=r.rows),"c_rows"in r&&l(3,f=r.c_rows),"sortOrders"in r&&l(34,u=r.sortOrders),"sortBy"in r&&l(0,g=r.sortBy),"sortOrder"in r&&l(1,h=r.sortOrder),"filterSelections"in r&&l(2,y=r.filterSelections),"expanded"in r&&l(31,c=r.expanded),"selected"in r&&l(32,p=r.selected),"expandRowKey"in r&&l(35,m=r.expandRowKey),"rowKey"in r&&l(36,w=r.rowKey),"expandSingle"in r&&l(37,d=r.expandSingle),"selectSingle"in r&&l(38,b=r.selectSingle),"selectOnClick"in r&&l(5,k=r.selectOnClick),"iconAsc"in r&&l(6,H=r.iconAsc),"iconDesc"in r&&l(7,nn=r.iconDesc),"iconSortable"in r&&l(8,ln=r.iconSortable),"iconExpand"in r&&l(9,tn=r.iconExpand),"iconExpanded"in r&&l(10,sn=r.iconExpanded),"showExpandIcon"in r&&l(11,ge=r.showExpandIcon),"classNameTable"in r&&l(12,on=r.classNameTable),"classNameThead"in r&&l(13,rn=r.classNameThead),"classNameTbody"in r&&l(14,fn=r.classNameTbody),"classNameSelect"in r&&l(15,an=r.classNameSelect),"classNameInput"in r&&l(16,un=r.classNameInput),"classNameRow"in r&&l(17,cn=r.classNameRow),"classNameCell"in r&&l(18,dn=r.classNameCell),"classNameRowSelected"in r&&l(19,be=r.classNameRowSelected),"classNameRowExpanded"in r&&l(20,_n=r.classNameRowExpanded),"classNameExpandedContent"in r&&l(21,hn=r.classNameExpandedContent),"classNameCellExpand"in r&&l(22,mn=r.classNameCellExpand),"$$scope"in r&&l(41,o=r.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&16&&(l(40,A={}),i.forEach(r=>{l(40,A[r.key]=r,A)})),e.$$.dirty[0]&2064&&l(24,t=(ge?1:0)+i.length),e.$$.dirty[0]&1|e.$$.dirty[1]&512){let r=A[g];r!==void 0&&r.sortable===!0&&typeof r.value=="function"&&l(39,ke=_=>r.value(_))}e.$$.dirty[0]&7|e.$$.dirty[1]&807&&l(3,f=a.filter(r=>Object.keys(y).every(_=>{var kn;let O=null;if(A[_]===void 0)return!0;if(!((kn=A[_])!=null&&kn.searchValue))O=!1;else{if(y[_]==="")return!0;A[_].searchValue.length===1?O=(A[_].searchValue(r)+"").toLocaleLowerCase().indexOf((y[_]+"").toLocaleLowerCase())>=0:A[_].searchValue.length===2&&(O=!!A[_].searchValue(r,y[_]+""))}return O||y[_]===void 0||y[_]===(typeof A[_].filterValue=="function"?A[_].filterValue(r):A[_].value(r))})).map(r=>Object.assign({},r,{$sortOn:ke(r),$expanded:w!==null&&c.indexOf(r[w])>=0,$selected:w!==null&&p.indexOf(r[w])>=0})).sort((r,_)=>{if(g){if(r.$sortOn>_.$sortOn)return h;if(r.$sortOn<_.$sortOn)return-h}else return 0;return 0})),e.$$.dirty[0]&16|e.$$.dirty[1]&4&&gn&&i&&a&&nl()},[g,h,y,f,i,k,H,nn,ln,tn,sn,ge,on,rn,fn,an,un,cn,dn,be,_n,hn,mn,K,t,gn,el,pe,we,ye,ve,c,p,a,u,m,w,d,b,ke,A,o,s,tl,sl,il,ol,rl,fl,al,ul,cl,dl]}class Qn extends Be{constructor(n){super(),Me(this,n,Jn,Xn,Te,{columns:4,rows:33,c_rows:3,sortOrders:34,sortBy:0,sortOrder:1,filterSelections:2,expanded:31,selected:32,expandRowKey:35,rowKey:36,expandSingle:37,selectSingle:38,selectOnClick:5,iconAsc:6,iconDesc:7,iconSortable:8,iconExpand:9,iconExpanded:10,showExpandIcon:11,classNameTable:12,classNameThead:13,classNameTbody:14,classNameSelect:15,classNameInput:16,classNameRow:17,classNameCell:18,classNameRowSelected:19,classNameRowExpanded:20,classNameExpandedContent:21,classNameCellExpand:22},null,[-1,-1,-1])}}function Yn(e){let n,l,t;function s(i){e[3](i)}let o={columns:e[2],rows:e[1],classNameTable:["table table-hover"]};return e[0]!==void 0&&(o.filterSelections=e[0]),n=new Qn({props:o}),ce.push(()=>An(n,"filterSelections",s)),{c(){me(n.$$.fragment)},m(i,a){te(n,i,a),t=!0},p(i,[a]){const f={};a&2&&(f.rows=i[1]),!l&&a&1&&(l=!0,f.filterSelections=i[0],On(()=>l=!1)),n.$set(f)},i(i){t||(T(n.$$.fragment,i),t=!0)},o(i){L(n.$$.fragment,i),t=!1},d(i){se(n,i)}}}const en="/api/plugins/script-manager";async function Zn(){await new Promise(e=>setTimeout(e,2500)),document.script_manager.script_completed=!0}function xn(e,n,l){let t;const s=m=>m&&m[0].toUpperCase()+m.slice(1)||"",o=`${en}/script-log-lines/`,i=`${en}/script-executions/`;let a=document.script_manager.result_id,f={},u={debug:"bg-gray",info:"bg-cyan",success:"bg-green",warning:"bg-yellow",failure:"bg-red"};const g=[{key:"timestamp",title:"Time",value:m=>m.timestamp_formatted,sortable:!0,class:"text-nowrap",headerClass:"min-width-120",parseHTML:!0},{key:"level",title:"Level",value:m=>m.level,sortable:!0,filterOptions:["Debug","Info","Success","Warning","Failure"],filterValue:m=>s(m.level),renderValue:m=>`<span class="badge ${u[m.level.toLowerCase()]}">${s(m.level)}</span>`,parseHTML:!0,filterPlaceholder:"All",headerClass:"min-width-70"},{key:"message",title:"Message",value:m=>m.message_markdown,sortable:!0,parseHTML:!0,searchValue:m=>m.message,class:"w-100",headerClass:"w-100",filterPlaceholder:"Search message"}];En(()=>(document.script_manager.logs.length>0&&l(1,t=[...document.script_manager.logs]),y(),()=>{}));async function h(){let m=`${i}${a}`;return await(await fetch(m)).json()}async function y(){let m=null;for(t.length>0&&(m=t[t.length-1].id);;){let w=await h();if(m=await c(m),w.completed){Zn();break}await new Promise(d=>setTimeout(d,1e3))}}async function c(m){let w=`${o}?script_execution=${a}`;for(m&&(w=`${w}&id__gt=${m}`);;){const b=await(await fetch(w)).json();if(l(1,t=[...t,...b.results]),b.next)w=b.next;else break}return t.length>0?t[t.length-1].id:null}function p(m){f=m,l(0,f)}return l(1,t=[]),[f,t,g,p]}class $n extends Be{constructor(n){super(),Me(this,n,xn,Yn,Te,{})}}new $n({target:document.getElementById("app")})})();
